<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Royalty Guy - Royalty Health Check</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1>The Royalty Guy</h1>
      <p class="tagline">Your royalties, handled.</p>
    </header>

    <!-- Progress Bar -->
    <div class="progress-container" id="progress-container">
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <div class="progress-steps">
        <span class="step active" data-step="1">Basic Info</span>
        <span class="step" data-step="2">Registrations</span>
        <span class="step" data-step="3">Your Situation</span>
        <span class="step" data-step="4">Follow-up</span>
        <span class="step" data-step="5">Your Report</span>
      </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Page 1: Basic Info -->
      <section class="form-page active" id="page-1">
        <h2>Let's Get Started</h2>
        <p class="page-description">Tell us about yourself and your music.</p>

        <div class="form-group">
          <label for="q1_artist_name">What is your artist/stage name? *</label>
          <input type="text" id="q1_artist_name" placeholder="e.g., DJ Shadow, The Weeknd" required>
        </div>

        <div class="form-group">
          <label for="q2_legal_name">What is your legal name? *</label>
          <input type="text" id="q2_legal_name" placeholder="e.g., John Smith" required>
          <span class="help-text">This is needed for royalty registrations and will be kept confidential.</span>
        </div>

        <div class="form-group">
          <label>How long have you been releasing music? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q3_time_releasing" value="less_than_6_months">
              <span>Less than 6 months</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q3_time_releasing" value="6_months_to_2_years">
              <span>6 months to 2 years</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q3_time_releasing" value="2_to_5_years">
              <span>2-5 years</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q3_time_releasing" value="5_to_10_years">
              <span>5-10 years</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q3_time_releasing" value="10_plus_years">
              <span>10+ years</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Approximately how many songs have you released? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q4_catalog_size" value="1_to_10">
              <span>1-10</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q4_catalog_size" value="11_to_25">
              <span>11-25</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q4_catalog_size" value="26_to_50">
              <span>26-50</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q4_catalog_size" value="51_to_100">
              <span>51-100</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q4_catalog_size" value="100_plus">
              <span>100+</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>What is your primary music distributor? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="distrokid">
              <span>DistroKid</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="tunecore">
              <span>TuneCore</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="cd_baby">
              <span>CD Baby</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="awal">
              <span>AWAL</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="ditto">
              <span>Ditto</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="unitedmasters">
              <span>UnitedMasters</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="other">
              <span>Other</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q5_distributor" value="none">
              <span>I don't have a distributor</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>What is your estimated monthly income from streaming/downloads? *</label>
          <span class="help-text">This helps us estimate how much you might be missing.</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q6_monthly_income" value="0_to_100">
              <span>$0-100</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q6_monthly_income" value="100_to_500">
              <span>$100-500</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q6_monthly_income" value="500_to_1000">
              <span>$500-1,000</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q6_monthly_income" value="1000_to_3000">
              <span>$1,000-3,000</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q6_monthly_income" value="3000_to_10000">
              <span>$3,000-10,000</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q6_monthly_income" value="10000_plus">
              <span>$10,000+</span>
            </label>
          </div>
        </div>

        <div class="button-group">
          <button type="button" class="btn btn-primary" onclick="nextPage(1)">Continue</button>
        </div>
      </section>

      <!-- Page 2: Current Registrations -->
      <section class="form-page" id="page-2">
        <h2>Current Registrations</h2>
        <p class="page-description">Now let's see what royalty registrations you already have.</p>

        <div class="form-group">
          <label>Are you a member of a PRO (Performing Rights Organization)? *</label>
          <span class="help-text">PROs collect performance royalties when your songs are played publicly.</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q7_pro" value="ascap">
              <span>ASCAP</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q7_pro" value="bmi">
              <span>BMI</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q7_pro" value="sesac">
              <span>SESAC <small>(invite only)</small></span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q7_pro" value="gmr">
              <span>GMR <small>(invite only)</small></span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q7_pro" value="none">
              <span>None</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q7_pro" value="not_sure">
              <span>Not sure</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Are you registered with SoundExchange? *</label>
          <span class="help-text">SoundExchange collects royalties when your recordings are played on digital radio (Pandora, SiriusXM, etc.).</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q8_soundexchange" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q8_soundexchange" value="no">
              <span>No</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q8_soundexchange" value="not_sure">
              <span>Not sure / What's that?</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Are you registered with The MLC (Mechanical Licensing Collective)? *</label>
          <span class="help-text">The MLC collects mechanical royalties from streaming services like Spotify and Apple Music.</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q9_mlc" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q9_mlc" value="no">
              <span>No</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q9_mlc" value="not_sure">
              <span>Not sure / What's that?</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Do you currently use a publishing administrator? *</label>
          <span class="help-text">Publishing admins collect royalties on your behalf and typically take 10-20% commission.</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="songtrust">
              <span>Songtrust</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="cd_baby_pro">
              <span>CD Baby Pro</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="tunecore_publishing">
              <span>TuneCore Publishing</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="sentric">
              <span>Sentric</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="distrokid">
              <span>DistroKid <small>(Note: NOT a publishing admin)</small></span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="other">
              <span>Other</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="none">
              <span>None</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q10_publishing_admin" value="not_sure">
              <span>Not sure</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Have you EVER used a publishing administrator in the past? *</label>
          <span class="help-text">This is important to check for potential conflicts.</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q11_previous_admin" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q11_previous_admin" value="no">
              <span>No</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q11_previous_admin" value="not_sure">
              <span>Not sure</span>
            </label>
          </div>
        </div>

        <div class="button-group">
          <button type="button" class="btn btn-secondary" onclick="prevPage(2)">Back</button>
          <button type="button" class="btn btn-primary" onclick="nextPage(2)">Continue</button>
        </div>
      </section>

      <!-- Page 3: Complexity Factors -->
      <section class="form-page" id="page-3">
        <h2>Your Situation</h2>
        <p class="page-description">A few more questions to understand your specific situation.</p>

        <div class="form-group">
          <label>Do any of your songs have co-writers (other people who helped write them)? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q12_has_cowriters" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q12_has_cowriters" value="no">
              <span>No</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Have you ever released music under a different artist name? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q13_changed_names" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q13_changed_names" value="no">
              <span>No</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Have any of your songs been recorded/released by other artists? *</label>
          <span class="help-text">This means other artists performing/recording songs you wrote.</span>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q14_songs_by_others" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q14_songs_by_others" value="no">
              <span>No</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q14_songs_by_others" value="not_sure">
              <span>Not sure</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Are you managing music for someone else or an inherited catalog? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q15_managing_for" value="own_music">
              <span>No, this is my own music</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q15_managing_for" value="managing_for_other">
              <span>Yes, I'm managing for someone else</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q15_managing_for" value="inherited_catalog">
              <span>Yes, I inherited this catalog</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Are there any legal disputes or contested ownership of your songs? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input type="radio" name="q16_disputes" value="no">
              <span>No</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q16_disputes" value="yes">
              <span>Yes</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="q16_disputes" value="possibly">
              <span>Possibly / Not sure</span>
            </label>
          </div>
        </div>

        <div class="button-group">
          <button type="button" class="btn btn-secondary" onclick="prevPage(3)">Back</button>
          <button type="button" class="btn btn-primary" onclick="nextPage(3)">Continue</button>
        </div>
      </section>

      <!-- Page 4: Follow-up Questions -->
      <section class="form-page" id="page-4">
        <h2>A Few More Questions</h2>
        <p class="page-description">Based on your answers, we need a bit more information.</p>

        <div id="followup-questions">
          <!-- Dynamically populated -->
        </div>

        <div class="button-group">
          <button type="button" class="btn btn-secondary" onclick="prevPage(4)">Back</button>
          <button type="button" class="btn btn-primary" onclick="generateReport()">Generate My Report</button>
        </div>
      </section>

      <!-- Page 5: Report -->
      <section class="form-page" id="page-5">
        <div id="report-content">
          <!-- Dynamically populated with the generated report -->
        </div>

        <div class="button-group report-actions">
          <button type="button" class="btn btn-secondary" onclick="copyReport()">Copy Report</button>
          <button type="button" class="btn btn-secondary" onclick="downloadReport()">Download as PDF</button>
          <button type="button" class="btn btn-primary" onclick="startOver()">Start Over</button>
        </div>

        <!-- Chat Interface -->
        <div class="chat-section" id="chat-interface">
          <div class="chat-header">
            <h3>Questions about your report?</h3>
            <p class="chat-subtitle">Ask me anything about your royalty situation or action plan.</p>
          </div>

          <div id="chat-messages" class="chat-messages">
            <div class="chat-message assistant-message">
              <div class="message-content">
                I've analyzed your royalty setup. Feel free to ask me anything about your report, what the different royalty types mean, or which actions to prioritize!
              </div>
            </div>
          </div>

          <div class="chat-input-container">
            <input
              type="text"
              id="chat-input"
              placeholder="e.g., What's a publishing entity?"
              onkeypress="handleChatKeypress(event)"
            >
            <button type="button" class="btn btn-primary" onclick="sendChatMessage()">
              Send
            </button>
          </div>

          <div class="chat-loading" id="chat-loading" style="display: none;">
            <div class="chat-spinner"></div>
            <span>Thinking...</span>
          </div>
        </div>
      </section>
    </main>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
      <div class="loading-content">
        <div class="spinner"></div>
        <p>Generating your Royalty Health Report...</p>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
